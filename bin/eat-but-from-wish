#!/bin/bash
#
# Copyright (C) 2021 The LineageOS Project
#
# SPDX-License-Identifier: Apache-2.0
#

if [ "${1}" = "" ]; then
	echo "File to flash not specified"
	exit
fi

echo "Waiting for device..."
adb wait-for-device
echo "Device found, rebooting to sideload"

adb reboot sideload-auto-reboot

adb wait-for-device-sideload
adb sideload "${1}"
echo "Done"
